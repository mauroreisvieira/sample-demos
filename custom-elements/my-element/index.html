<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Custom Element</title>
    <link rel="stylesheet" href="./../../assets/styles/main.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">Sample Demos</div>
            <nav class="nav">
                <ul class="menu">
                    <li><a href="./../../index.html"">Home</a></li>
                    <li><a href="https://twitter.com/mauroreisvieira" target="_blank">Twitter</a></li>
                    <li><a href="https://github.com/maurovieirareis/sample-demos" target="_blank">View in GitHub</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="hero">
        <div class="container">
            <h1>Life cycle of My Custom Element</h1>
        </div>
    </div>
    <main class="container">
        <section>
            <div class="options">
                <button class="add">Add MyElement in DOM</button>
                <button class="update">Update attributes</button>
                <button class="remove">Remove MyElement from DOM</button>
            </div>
        </section>
    </main>
    <footer>
        <p>Created with <span>â™¥</span> by <a href="http://twitter.com/@mauroreisvieira">@mauroreisvieira</a> in Portugal</p>
    </footer>
    <script src="my-element.js"></script>
    <script>
        const add = document.querySelector('.add');
        const update = document.querySelector('.update');
        const remove = document.querySelector('.remove');
        const main = document.querySelector('section');
        let myElemet;

        update.disabled = true;
        remove.disabled = true;

        add.addEventListener('click', (evt) => {
            myElemet = document.createElement('my-element');
            myElemet.setAttribute('color', 'red');
            myElemet.setAttribute('fontSize', '20');
            add.disabled = !add.disabled;
            update.disabled = !add.disabled;
            remove.disabled = !remove.disabled;
            main.appendChild(myElemet);
        });

        update.addEventListener('click', (evt) => {
            myElemet.setAttribute('color', `rgb(${random(0, 255)}, ${random(0, 255)}, ${random(0, 255)})`);
            myElemet.setAttribute('fontSize', `${random(18, 36)}`);
        });

        remove.addEventListener('click', (evt) => {
            main.removeChild(myElemet);
            add.disabled = !add.disabled;
            update.disabled = !add.disabled;
            remove.disabled = !remove.disabled;
        });

        document.addEventListener('wow', (evt) => {
            console.log(evt.detail.m, evt.detail.s);
        });

        random = (min, max) => Math.floor(Math.random() * (max - min + 1) + min);
    </script>
</body>
</html>
