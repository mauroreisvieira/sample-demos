{"version":3,"file":"bundle.js","sources":["../../resources/js/TacoButton.js"],"sourcesContent":["class TacoButton extends HTMLElement {\n\n  static get observedAttributes() { return [\"disabled\"]; }\n\n  constructor() {\n    super();\n\n    this.addEventListener(\"keydown\", e => {\n      if (e.keyCode === 32 || e.keyCode === 13) {\n        this.dispatchEvent(new MouseEvent(\"click\", {\n          bubbles: true,\n          cancelable: true\n        }));\n      }\n    });\n\n    this.addEventListener(\"click\", e => {\n      if (this.disabled) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    });\n\n    this._observer = new MutationObserver(() => {\n      this.setAttribute(\"aria-label\", this.textContent);\n    });\n  }\n\n  connectedCallback() {\n    this.setAttribute(\"role\", \"button\");\n    this.setAttribute(\"tabindex\", \"0\");\n\n    this._observer.observe(this, {\n      childList: true,\n      characterData: true,\n      subtree: true\n    });\n  }\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n  }\n\n  get disabled() {\n    return this.hasAttribute(\"disabled\");\n  }\n\n  set disabled(v) {\n    if (v) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  attributeChangedCallback() {\n    // only is called for the disabled attribute due to observedAttributes\n    if (this.disabled) {\n      this.removeAttribute(\"tabindex\");\n      this.setAttribute(\"aria-disabled\", \"true\");\n    } else {\n      this.setAttribute(\"tabindex\", \"0\");\n      this.setAttribute(\"aria-disabled\", \"false\");\n    }\n  }\n}\n\nnew TacoButton();\n"],"names":["super","this"],"mappings":";;AAAA,IAAM,UAAU;EAAqB,mBAIxB,GAAG;;;IACZA,WAAK,KAAA,CAAC,IAAA,CAAC,CAAC;;IAER,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAA,CAAC,EAAC;MACjC,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;QACxCC,MAAI,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE;UACzC,OAAO,EAAE,IAAI;UACb,UAAU,EAAE,IAAI;SACjB,CAAC,CAAC,CAAC;OACL;KACF,CAAC,CAAC;;IAEH,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC,EAAC;MAC/B,IAAIA,MAAI,CAAC,QAAQ,EAAE;QACjB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,CAAC,CAAC,eAAe,EAAE,CAAC;OACrB;KACF,CAAC,CAAC;;IAEH,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAgB,CAAC,YAAG;MACvCA,MAAI,CAAC,YAAY,CAAC,YAAY,EAAEA,MAAI,CAAC,WAAW,CAAC,CAAC;KACnD,CAAC,CAAC;GACJ;;;;;;;mDAAA;;EAxBD,gBAAA,kBAA6B,mBAAG,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,EAAE,CAAA;;uBA0BxD,iBAAiB,iCAAG;IAClB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACpC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;;IAEnC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE;MAC3B,SAAS,EAAE,IAAI;MACf,aAAa,EAAE,IAAI;MACnB,OAAO,EAAE,IAAI;KACd,CAAC,CAAC;GACJ,CAAA;;EAED,qBAAA,oBAAoB,oCAAG;IACrB,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;GAC7B,CAAA;;EAED,mBAAA,QAAY,mBAAG;IACb,OAAO,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;GACtC,CAAA;;EAED,mBAAA,QAAY,iBAAC,CAAC,EAAE;IACd,IAAI,CAAC,EAAE;MACL,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;KACnC,MAAM;MACL,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;KAClC;GACF,CAAA;;EAED,qBAAA,wBAAwB,wCAAG;;IAEzB,IAAI,IAAI,CAAC,QAAQ,EAAE;MACjB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;MACjC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;KAC5C,MAAM;MACL,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;MACnC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;KAC7C;GACF,CAAA;;;;;;EAhEsB,WAiExB,GAAA;;AAED,IAAI,UAAU,EAAE,CAAC"}